webpackJsonp([1],{"3ha/":function(e,t){},"I+Im":function(e,t){e.exports={homeLabel:"Join",streamingLabel:"Streaming",resumeLabel:"Resume stream",pauseLabel:"Pause stream",errorMessage:"Sorry, no access to web camera.",commentsLabel:"Comments",buttonLabelShow:"Show replies...",buttonLabelHide:"Hide replies..."}},IGWU:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s=(n("PBss"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var r=n("VU/8")({name:"App"},s,!1,function(e){n("pTzO")},null,null).exports,i=n("/ocq"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{height:"512",viewBox:"0 0 128 128",width:"512",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[t("linearGradient",{attrs:{id:"a",gradientUnits:"userSpaceOnUse",x1:"107.143",x2:"46.328",y1:"106.303",y2:"45.489"}},[t("stop",{attrs:{offset:"0","stop-color":"#3ba9fd"}}),this._v(" "),t("stop",{attrs:{offset:"1","stop-color":"#bae543"}})],1),this._v(" "),t("path",{attrs:{d:"m123.242 6.618c-2.28 40.448-5.958 54.854-18.737 73.4a1.757 1.757 0 0 1 -1.284.75c-1.544.139-2.943.3-4.185.48q.553.126 1.117.244a1.75 1.75 0 0 1 .942 2.882 43.377 43.377 0 0 1 -3.251 3.273c-5.444 4.924-14.336 9.009-26.414 12.136a1.75 1.75 0 1 1 -.877-3.388c11.525-2.984 19.918-6.8 24.946-11.349.3-.272.6-.55.9-.837-1.884-.482-3.679-1.027-5.363-1.628a1.751 1.751 0 0 1 .083-3.324 62.972 62.972 0 0 1 10.967-1.9c11.353-16.686 15.08-30.327 17.318-65.165a49.418 49.418 0 0 1 -5.127 4.757 1.75 1.75 0 0 1 -2.207-2.717c6.072-4.933 7.787-8.341 7.858-8.484a1.749 1.749 0 0 1 3.317.87zm-58.988 91.255q-2.114.451-4.238.849a1.749 1.749 0 0 0 .32 3.469 1.707 1.707 0 0 0 .324-.03q2.165-.4 4.324-.864a1.75 1.75 0 1 0 -.73-3.424zm45.661-46.9a1.73 1.73 0 0 0 .431.053 1.75 1.75 0 0 0 1.695-1.32c.609-2.4 1.146-4.9 1.639-7.637a1.751 1.751 0 0 0 -3.446-.621c-.477 2.653-1 5.073-1.586 7.4a1.751 1.751 0 0 0 1.267 2.129zm-20.464 68.797h-75.186a80.412 80.412 0 0 1 10.605-13.58 286.99 286.99 0 0 0 29.363-2.927 1.75 1.75 0 0 0 -.533-3.463c-9.391 1.462-18.306 2.25-25.138 2.675 10.104-9.675 22.703-18.558 35.758-27.755 4.5-3.167 9.59-6.756 14.491-10.351a4.764 4.764 0 0 0 1.029-6.621 4.743 4.743 0 0 0 -6.653-1.037c-4.834 3.546-9.884 7.1-14.384 10.273-5.545 3.908-10.783 7.598-15.943 11.416a1.75 1.75 0 0 0 2.081 2.815c5.128-3.793 10.35-7.472 15.923-11.4 4.468-3.148 9.536-6.715 14.393-10.282a1.256 1.256 0 0 1 .937-.23 1.226 1.226 0 0 1 .812.5 1.255 1.255 0 0 1 -.266 1.745c-4.873 3.573-9.954 7.152-14.44 10.31-21.163 14.91-41.153 28.993-51.774 47.293a1.24 1.24 0 0 1 -1.75.417 1.356 1.356 0 0 1 -.339-1.8 83.351 83.351 0 0 1 11.684-15.341 1.807 1.807 0 0 0 .269-.277 162.888 162.888 0 0 1 17.683-15.723 1.75 1.75 0 1 0 -2.156-2.756 183.324 183.324 0 0 0 -14.437 12.418c3.256-20.018 11.408-34.612 25.368-45.358a49.382 49.382 0 0 0 .079 6.122 1.75 1.75 0 0 0 3.244.722 71.124 71.124 0 0 0 5.9-12.924 105.079 105.079 0 0 1 18.846-8.132c4.59-1.5 8.984-3.106 13.093-4.79 1.27 5.832 3.726 8.775 3.843 8.911a1.75 1.75 0 0 0 2.855-.271 65.8 65.8 0 0 0 5.941-14.547c2.462-1.317 4.8-2.683 6.947-4.066a1.75 1.75 0 0 0 -1.893-2.943c-2.226 1.431-4.661 2.846-7.238 4.207a1.748 1.748 0 0 0 -.987 1.143 65.867 65.867 0 0 1 -4.388 11.782 24.213 24.213 0 0 1 -2.013-6.92 1.75 1.75 0 0 0 -2.418-1.361c-4.584 1.953-9.573 3.813-14.829 5.527a107.828 107.828 0 0 0 -20.069 8.747 1.748 1.748 0 0 0 -.785.953q-1.186 3.48-2.562 6.574.057-1.032.152-2.194a1.75 1.75 0 0 0 -2.741-1.583c-17.773 12.312-27.46 29.67-30.474 54.581a86.4 86.4 0 0 0 -11.933 15.736 4.87 4.87 0 0 0 1.482 6.513 4.725 4.725 0 0 0 2.554.753h80a1.75 1.75 0 0 0 0-3.5z",stroke:"url(#a)",fill:"none"}})],1)},staticRenderFns:[]},c=n("VU/8")(null,o,!1,null,null,null).exports,l=n("I+Im"),u=n.n(l),m={name:"HomePage",components:{Leaf:c},data:function(){return{label:u.a.homeLabel}}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",{staticClass:"home page-view"},[t("Leaf"),this._v(" "),t("router-link",{staticClass:"button",attrs:{to:"/call"}},[this._v("\n    "+this._s(this.label)+"\n  ")])],1)},staticRenderFns:[]};var d=n("VU/8")(m,v,!1,function(e){n("eGJr")},null,null).exports,h=n("Xxa5"),p=n.n(h),f=n("exGp"),g=n.n(f);var b=n("Dd8w"),w=n.n(b),_=n("fZjL"),x=n.n(_),S={name:"BaseComment",props:{name:String,email:String,body:String}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"base-comment"},[n("h3",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),n("a",{attrs:{href:"mailto:"+e.email,target:"_blank"}},[e._v("\n        "+e._s(e.email)+"\n      ")]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.body)}})])},staticRenderFns:[]};var L={rootMargin:"0px",threshold:1},k=void 0;function y(e,t){e.forEach(function(e){e.isIntersecting&&e.target.dispatchEvent(k)})}var M={name:"Trigger",data:function(){return{observer:null}},mounted:function(){var e,t;this.observer=((k=document.createEvent("Event")).initEvent("inview",!0,!0),new IntersectionObserver(y,L)),e=this.observer,t=this.$el,e.observe(t),this.$el.addEventListener("inview",this.onInview)},beforeDestroy:function(){var e,t;this.$el.removeEventListener("inview",this.onInview),e=this.observer,t=this.$el,e.unobserve(t)},methods:{onInview:function(){this.$emit("inview")}}},$={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"viewportTrigger",staticClass:"viewportTrigger"})},staticRenderFns:[]},I={name:"Comments",components:{BaseComment:n("VU/8")(S,C,!1,function(e){n("3ha/")},"data-v-386d7629",null).exports,Trigger:n("VU/8")(M,$,!1,null,null,null).exports},props:{label:{type:String,required:!0},items:{type:Array,required:!0},id:[String,Number],postId:[String,Number],show:String,hide:String},data:function(){return{collapsed:{},currentInd:5}},computed:{comments:function(){var e=this.items.reduce(function(e,t){var n=t.postId,a=e.find(function(e){return e.id===n});return a?a.items.push(t):e.push({id:n,items:[t]}),e},[]);return e},slicedComments:function(){return this.comments.slice(0,this.currentInd)}},mounted:function(){var e=this.$watch("comments",function(){var t=this,n={};x()(this.comments).forEach(function(e){t.$set(n,e,!0)}),this.collapsed=w()({},n),e()})},methods:{toggle:function(e){var t=this.collapsed[e];this.$set(this.collapsed,e,!t)},updateCurrentInd:function(){this.currentInd+=5}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"comments"},[n("h2",[e._v(e._s(e.label))]),e._v(" "),n("ul",e._l(e.slicedComments,function(t){return n("li",{key:t.id},[n("BaseComment",e._b({staticClass:"main"},"BaseComment",t.items[0],!1)),e._v(" "),n("button",{staticClass:"collapse-button",on:{click:function(n){return e.toggle(t.id)}}},[e._v("\n          "+e._s(e.collapsed[t.id]?e.show:e.hide)+"\n        ")]),e._v(" "),n("ul",{class:["secondary",e.collapsed[t.id]&&"collapsed"]},[e._l(t.items,function(t,a){return[a?n("li",{key:t.id},[n("BaseComment",e._b({},"BaseComment",t,!1))],1):e._e()]})],2)],1)}),0),e._v(" "),n("Trigger",{on:{inview:e.updateCurrentInd}})],1)},staticRenderFns:[]};var U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticStyle:{"enable-background":"new 0 0 60 60"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 60 60","xml:space":"preserve"}},[t("path",{attrs:{d:"M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30 c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15 C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z",fill:"currentColor"}}),this._v(" "),t("path",{attrs:{d:"M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30 S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z",fill:"currentColor"}})])},staticRenderFns:[]},z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticStyle:{"enable-background":"new 0 0 480 480"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 480 480","xml:space":"preserve"}},[t("path",{attrs:{fill:"currentColor",d:"M240,480C107.452,480,0,372.548,0,240S107.452,0,240,0s240,107.452,240,240 C479.85,372.486,372.486,479.85,240,480z M240,16C116.288,16,16,116.288,16,240s100.288,224,224,224s224-100.288,224-224 C463.859,116.347,363.653,16.141,240,16z"}}),this._v(" "),t("path",{attrs:{fill:"currentColor",d:"M200,344c-4.418,0-8-3.582-8-8V144c0-4.418,3.582-8,8-8s8,3.582,8,8v192 C208,340.418,204.418,344,200,344z"}}),this._v(" "),t("path",{attrs:{fill:"currentColor",d:"M280,344c-4.418,0-8-3.582-8-8V144c0-4.418,3.582-8,8-8s8,3.582,8,8v192 C288,340.418,284.418,344,280,344z"}})])},staticRenderFns:[]},P={video:{width:640,height:480}},B={name:"Call",components:{Comments:n("VU/8")(I,E,!1,function(e){n("Po58")},"data-v-5fde3029",null).exports,Play:n("VU/8")(null,U,!1,null,null,null).exports,Pause:n("VU/8")(null,z,!1,null,null,null).exports},data:function(){return{streamingLabel:u.a.streamingLabel,resumeLabel:u.a.resumeLabel,pauseLabel:u.a.pauseLabel,errorMessage:u.a.errorMessage,commentsLabel:u.a.commentsLabel,buttonLabelShow:u.a.buttonLabelShow,buttonLabelHide:u.a.buttonLabelHide,canStream:!1,isStreaming:!1,canvas:null,comments:[]}},computed:{buttonLabel:function(){return this.isStreaming?this.pauseLabel:this.resumeLabel}},created:function(){var e=this;return g()(p.a.mark(function t(){var n,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("https://jsonplaceholder.typicode.com/comments");case 2:n=t.sent,a=n.data,e.comments=a;case 5:case"end":return t.stop()}},t,e)}))()},mounted:function(){var e=this;return g()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.canStream="mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices,!e.canStream){t.next=6;break}return t.next=4,e.$nextTick();case 4:e.canvas=e.$refs.canvas,e.getStream();case 6:case"end":return t.stop()}},t,e)}))()},methods:{toggleStream:function(){this.isStreaming=!this.isStreaming,this.isStreaming&&this.getStream()},getStream:function(){var e=this;return g()(p.a.mark(function t(){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia(P);case 3:n=t.sent,e.paint(n),e.isStreaming=!0,t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.canStream=!1,console.error(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,8]])}))()},paint:function(e){var t=this.$refs.video;t&&(t.srcObject=e);var n=this,a=this.canvas.getContext("2d"),s=requestAnimationFrame(function e(){n.isStreaming?(n.canvas.width=t.videoWidth,n.canvas.height=t.videoHeight,a.drawImage(t,0,0,n.canvas.width,n.canvas.height),requestAnimationFrame(e)):cancelAnimationFrame(s)})}}},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"page-view call-page"},[n("nav",{staticClass:"navigation"},[n("router-link",{staticClass:"arrow-back",attrs:{to:"/"}},[n("svg",{attrs:{viewBox:"0 0 477.175 477.175",width:"30",height:"30"}},[n("path",{attrs:{d:"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225 c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"}})])])],1),e._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:e.canStream,expression:"canStream"}],staticClass:"video-container"},[n("h1",{staticClass:"call-label"},[e._v(e._s(e.streamingLabel))]),e._v(" "),n("canvas",{ref:"canvas",class:[!e.isStreaming&&"paused"],attrs:{id:"canvas"}}),e._v(" "),n("video",{ref:"video",attrs:{autoplay:""}}),e._v(" "),n("button",{class:["video-button",e.isStreaming&&"pause",!e.isStreaming&&"play"],on:{click:e.toggleStream}},[n("transition",{attrs:{name:"fade"}},[n("Pause",{directives:[{name:"show",rawName:"v-show",value:e.isStreaming,expression:"isStreaming"}]})],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("Play",{directives:[{name:"show",rawName:"v-show",value:!e.isStreaming,expression:"!isStreaming"}]})],1)],1),e._v(" "),n("button",{staticClass:"button",on:{click:e.toggleStream}},[e._v(e._s(e.buttonLabel))])]),e._v(" "),e.canStream?e._e():n("p",{domProps:{innerHTML:e._s(e.errorMessage)}}),e._v(" "),n("Comments",{attrs:{label:e.commentsLabel,show:e.buttonLabelShow,hide:e.buttonLabelHide,items:e.comments}})],1)},staticRenderFns:[]};var H=n("VU/8")(B,F,!1,function(e){n("IGWU")},"data-v-39e847e4",null).exports;a.a.use(i.a);var V=new i.a({routes:[{path:"/",name:"HomePage",component:d},{path:"/call",name:"Call",component:H}]}),R=n("mtWM"),T=n.n(R),q=n("Rf8U"),A=n.n(q);a.a.use(A.a,T.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:V,components:{App:r},template:"<App/>"})},PBss:function(e,t){},Po58:function(e,t){},eGJr:function(e,t){},pTzO:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.758632d925115a3f3ec9.js.map